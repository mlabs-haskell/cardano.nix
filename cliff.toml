
[changelog]
header = """
# Changelog

All notable changes to this project will be documented in this file.
The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/).

"""
body = """
{% if version -%}
    ## [{{ version | trim_start_matches(pat="v") }}] - {{ timestamp | date(format="%Y-%m-%d") }}
{% else -%}
    ## [Unreleased]
{% endif -%}
{% for group, commits in commits | group_by(attribute="group") %}
    ## {{ group | title }}
    {% for commit in commits %}
        - {% if commit.scope %}{{ commit.scope }}: {% endif %}{{ commit.message | split(pat="\n") | first | trim }} 
          ([{{ commit.id | truncate(length=7, end="") }}](https://github.com/mlabs-haskell/cardano-nix/commit/{{ commit.id }})) - {{ commit.author.name }} ({{ commit.author.timestamp | date(format="%Y-%m-%d") }})
    {% endfor %}
{% endfor %}
"""

[git]
tag_pattern = "v[0-9]*"
conventional_commits = true
